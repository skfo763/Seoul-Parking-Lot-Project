apply from: '../commonsgradle/common.feature.gradle'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-android'

def properties = new Properties()
properties.load(project.rootProject.file('local.properties').newDataInputStream())
def kakaoApiKey = properties.getProperty('kakao_api_key')

android {
    defaultConfig {
        applicationId "com.skfo763.seoul_parking_lot"
        buildConfigField "String", "API_KEY", "\"${kakaoApiKey}\""
        manifestPlaceholders = [kakaoApiKey:kakaoApiKey]
    }

    dataBinding {
        enabled = true
    }
}

dependencies {
    def appModuleDependencies = rootProject.ext.appDependencies

    // Basic
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    // inner modules
    implementation project(':cache')
    implementation project(':remote')
    implementation project(':data')
    implementation project(':domain')
    implementation project(':presentation')

    // room
    implementation appModuleDependencies.room
    implementation appModuleDependencies.roomKtx
    implementation appModuleDependencies.roomRx
    kapt appModuleDependencies.roomAnnotation

    // navigation component
    implementation appModuleDependencies.navFragment
    implementation appModuleDependencies.navUi

    // rxJava
    implementation appModuleDependencies.rxJava
    implementation appModuleDependencies.rxAndroid
}
